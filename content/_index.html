---
title: "主页"
date: 2022-06-13T20:55:37+08:00
---
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>卡片型音乐播放器</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            user-select: none;
        }

        /* SVG 图标样式 */
        .svg-icon {
            position: fixed;
            bottom: 40%;
            right: 13%;
            width: 120px;
            height: 120px;
            cursor: pointer;
            background-image: url('http://47.121.123.118/wp-content/uploads/2024/10/42.svg');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }

        /* 播放器卡片样式 */
        .card {
            background: linear-gradient(145deg, #d1d8e0, #c5c8d7);
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            padding: 10px;
            width: 230px;
            text-align: center;
            position: fixed;
            bottom: 25%;
            left: 60%;
            border: 1px solid #a6b0be;
            z-index: 1000;
            display: none;
        }

        /* 歌手名和歌曲名 */
        #song-info {
            margin-bottom: 5px;
            font-size: 0.7em;
            color: #4a4a4a;
            overflow-x: auto;
        }

        /* 实心圆点图标 */
        .more-options {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #607d8b;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            cursor: pointer;
        }

        /* 播放和暂停按钮样式 */
        #play-pause-btn {
            background-color: #a6b0be;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 0.7em;
        }

        /* 歌曲列表样式 */
        #song-list {
            display: none;
            position: absolute;
            top: 20px;
            left: 118%;
            width: 160px;
            max-height: 180px;
            background: #e6e9ef;
            border: 1px solid #a6b0be;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            overflow-y: auto;
            padding: 8px;
            font-size: 0.6em;
        }

        /* 列表项样式 */
        #song-list div {
            padding: 5px;
            cursor: pointer;
        }

        #song-list div:hover {
            background-color: #d1d8e0;
        }

        /* 歌词显示区域样式 */
        #lyrics-display {
            display: none;
            position: absolute;
            top: 120px;
            right: -15%;
            width: 300px;
            height: 40px;
            background: #e6e9ef;
            border: 1px solid #a6b0be;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            overflow-y: auto;
            padding: 8px;
            font-size: 0.6em;
        }

        .line {
            transition: opacity 0.5s;
        }
    </style>
</head>
<body>

<!-- SVG 图标 -->
<div class="svg-icon" id="cd-btn"></div>

<div class="card" id="music-player">
    <div id="song-info">
        <div id="artist">John Denver</div>
        <div id="title">Take Me Home Country Roads</div>
    </div>
    <button id="play-pause-btn">play</button>
    
    <!-- 实心圆点图标 -->
    <div class="more-options" id="expand-btn"></div>
    
    <!-- 歌曲列表 -->
    <div id="song-list">
        <!-- 动态生成的歌曲列表项 -->
    </div>
    <!-- 独立的歌词显示区域 -->
    <div id="lyrics-display">
        <div id="line1" class="line">Do you know the words to this song?</div>
</div>



<audio id="audio"></audio>

<script>
    const songs = [
        {
            url: "http://music.163.com/song/media/outer/url?id=2051342914.mp3",
            artist: "松本梨香",
            title: "めざせポケモンマスター",
            lyricsSrc: "めざせポケモンマスター-菊发炮.lrc" // 替换为歌词文件路径
        },
        {
            url: "http://music.163.com/song/media/outer/url?id=2071176971.mp3",
            artist: "疾風 云",
            title: "未白镇（ミシロタウン）",
            lyricsSrc: "未白镇（ミシロタウン）-疾風 云.lrc" // 替换为歌词文件路径
        },
        // {
        //     url: "https://freetyst.nf.migu.cn/public%2Fproduct10th%2FproductB35%2F2021%2F05%2F0617%2F2021%E5%B9%B405%E6%9C%8806%E6%97%A517%E7%82%B910%E5%88%86%E7%B4%A7%E6%80%A5%E5%86%85%E5%AE%B9%E5%87%86%E5%85%A5%E6%B5%B7%E8%9D%B6%E5%94%B1%E7%89%871%E9%A6%96%2F%E5%85%A8%E6%9B%B2%E8%AF%95%E5%90%AC%2FMp3_64_22_16%2F6005860TDR9172004.mp3?Key=abbdcc72869abd7e&Tim=1730018967213&channelid=01&msisdn=d5620a044a4041858f93c2a643e9e757",
        //     artist: "许嵩",
        //     title: "乌鸦",
        //     lyricsSrc: "乌鸦.lrc" // 替换为歌词文件路径
        // },
        // {
        //     url: "http://music.163.com/song/media/outer/url?id=29715440.mp3",
        //     artist: "中島美嘉",
        //     title: "雪の華",
        //     lyricsSrc: "雪の華-中島美嘉.lrc" // 替换为歌词文件路径
        // },
        // {
        //     url: "http://music.163.com/song/media/outer/url?id=500665348.mp3",
        //     artist: "朴树",
        //     title: "Forever Young (Live)",
        //     lyricsSrc: "Forever Young (Live)-朴树.lrc" // 替换为歌词文件路径
        // },
        // {
        //     url: "http://music.163.com/song/media/outer/url?id=469391955.mp3",
        //     artist: "Beyond",
        //     title: "真的爱你",
        //     lyricsSrc: "真的爱你-Beyond.lrc" // 替换为歌词文件路径
        // },
        // {
        //     url: "http://music.163.com/song/media/outer/url?id=26508150.mp3",
        //     artist: "WANDS",
        //     title: "世界が終るまでは",
        //     lyricsSrc: "世界が終るまでは-WANDS.lrc" // 替换为歌词文件路径
        // },

        // {
        //     url: "http://music.163.com/song/media/outer/url?id=1987948211.mp3",
        //     artist: "牛尾憲輔",
        //     title: "Night Cruising",
        //     lyricsSrc: "Night Cruising-牛尾憲輔.lrc" // 替换为歌词文件路径
        // },
        // {
        //     url: "http://music.163.com/song/media/outer/url?id=2081236.mp3",
        //     artist: "Westlife",
        //     title: "Seasons in the Sun",
        //     lyricsSrc: "Seasons in the Sun-Westlife.lrc.lrc" // 替换为歌词文件路径
        // },
    ];

    const audio = document.getElementById('audio');
    const playPauseBtn = document.getElementById('play-pause-btn');
    const songListDiv = document.getElementById('song-list');
    const line1 = document.getElementById('line1');
    let currentSongIndex = 0;
    let lyricsArray = [];

    // 加载歌曲信息和歌词文件
    function loadSong(song) {
        document.getElementById('artist').textContent = song.artist;
        document.getElementById('title').textContent = song.title;
        audio.src = song.url;
        fetchLyrics(song.lyricsSrc);
    }

    // 加载并解析歌词文件
    function fetchLyrics(lyricsSrc) {
        fetch(lyricsSrc)
            .then(response => response.text())
            .then(data => {
                lyricsArray = parseLRC(data);
            })
            .catch(error => console.error('无法加载歌词文件:', error));
    }

    // 解析 LRC 文件
    function parseLRC(lrc) {
        const lyrics = [];
        const lines = lrc.split('\n');
        lines.forEach(line => {
            const match = line.match(/\[(\d+):(\d+\.\d+)\](.*)/);
            if (match) {
                const minutes = parseInt(match[1], 10);
                const seconds = parseFloat(match[2]);
                const time = minutes * 60 + seconds;
                const text = match[3].trim();
                if (text) {
                    lyrics.push({ time: time, line: text });
                }
            }
        });
        return lyrics;
    }

    // 同步歌词
    audio.addEventListener('timeupdate', () => {
        const currentTime = audio.currentTime;
        let currentLyric = "";

        for (let i = 0; i < lyricsArray.length; i++) {
            if (currentTime >= lyricsArray[i].time) {
                currentLyric = lyricsArray[i].line;
            } else {
                break;
            }
        }

        line1.textContent = currentLyric;
    });

    // 初始化加载第一首歌
    loadSong(songs[currentSongIndex]);

    // 播放/暂停按钮
    playPauseBtn.addEventListener('click', () => {
        if (audio.paused) {
            audio.play();
            playPauseBtn.textContent = 'pause';
        } else {
            audio.pause();
            playPauseBtn.textContent = 'play';
        }
    });
    // 扩展按钮功能：显示/隐藏歌曲列表
    const expandBtn = document.getElementById('expand-btn');
    expandBtn.addEventListener('click', () => {
        songListDiv.style.display = songListDiv.style.display === 'none' ? 'block' : 'none';
    });

    // 动态生成歌曲列表项
    songs.forEach((song, index) => {
        const songDiv = document.createElement('div');
        songDiv.textContent = `${song.title}`;
        songDiv.addEventListener('click', () => {
            currentSongIndex = index;
            loadSong(songs[currentSongIndex]);
            playPauseBtn.textContent = 'pause';
            audio.play();
        });
        songListDiv.appendChild(songDiv);
    });

    // 显示/隐藏播放器
    document.getElementById("cd-btn").addEventListener("click", function() {
        const musicPlayer = document.getElementById("music-player");
        musicPlayer.style.display = musicPlayer.style.display === "none" ? "block" : "none";
    });
    document.getElementById("cd-btn").addEventListener("click", function() {
        const musicPlayer = document.getElementById("lyrics-display");
        musicPlayer.style.display = musicPlayer.style.display === "none" ? "block" : "none";
    });
</script>

</body>
</html>
